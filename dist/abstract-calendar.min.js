(function(n){"use strict";typeof define=="function"&&define.amd?define([],n):typeof module=="object"&&module.exports?module.exports=n():window.AbstractCalendar=n()})(function(){"use strict";function n(n,r,u){var o,e,c,l,a;if(isNaN(n)||!(r>=0&&r<=11))throw Error("getCalendar incorrect params: year = "+n+"; month = "+r);u=u||{};var nt=u.firstDay||0,s=u.minWeeksCount||0,p=u.verticalAlign||"middle",h=u.today||new Date,w=new Date(n,r),tt=t(n,r),b=i(w,nt),k=Math.ceil((b+tt)/7),f=w;f.setDate(f.getDate()-b);s&&(o=s-k,o>0&&(e=null,p==="middle"?e=Math.floor(o/2):p==="bottom"&&(e=o),e!==null&&f.setDate(f.getDate()-e*7)));var it=h.getFullYear(),rt=h.getMonth(),ut=h.getDate(),d=[],ft=Math.max(s,k);for(c=0;c<ft;c++)for(l={days:[]},d.push(l),a=0;a<7;a++){var v=f.getFullYear(),y=f.getMonth(),g=f.getDate();l.days.push({year:v,month:y,date:g,isToday:v===it&&y===rt&&g===ut,isOtherMonth:!(v===n&&y===r)});f.setDate(f.getDate()+1)}return d}function t(n,t){return new Date(n,t+1,0).getDate()}function i(n,t){var i=n.getDay()-t;return i<0&&(i+=7),i}return{getCalendar:n}})